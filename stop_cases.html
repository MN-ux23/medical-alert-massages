<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>إيقاف استقبال الحالات</title>

  <style>
    body {
      font-family: sans-serif;
      background:#f5f5f5;
      padding:20px;
    }

    .logo-box {
      text-align:center;
      margin-bottom:20px;
    }
    .logo {
      width:160px;
      height:auto;
    }

    .box {
      background:#fff;
      padding:15px;
      margin-bottom:15px;
      border-radius:10px;
    }

    h2 {
      text-align:center;
      margin-bottom:20px;
    }

    label {
      font-weight:bold;
      display:block;
      margin-bottom:6px;
    }

    select, button {
      width:100%;
      padding:10px;
      margin-top:8px;
      border:1px solid #ccc;
      border-radius:8px;
      font-size:18px;
    }

    button {
      background:#4a6cf7;
      color:#fff;
      border:none;
      cursor:pointer;
    }
    button:hover {
      background:#3653d5;
    }

    .result {
      background:#eef2ff;
      padding:15px;
      border:2px solid #4a6cf7;
      border-radius:10px;
      white-space:pre-wrap;
    }

    .check-list div {
      margin:4px 0;
    }
    .check-list label {
      font-weight:normal;
    }
  </style>
</head>

<body>

<!-- الشعار -->
<div class="logo-box">
  <img src="log.png" alt="logo" class="logo">
</div>

<h2>رسائل التنبية في قروب لجنة الطوارئ    </h2>


<!-- الموقع -->
<div class="box">
  <label>الموقع</label>
  <select id="q2">
    <option value="" disabled selected> اختر</option>
    <option value="مستشفى الملك سلمان التخصصي">مستشفى الملك سلمان التخصصي</option>
    <option value="مستشفى الملك خالد">مستشفى الملك خالد</option>
    <option value="مستشفى حائل العام">مستشفى حائل العام</option>
    <option value="مستشفى الولادة والأطفال">مستشفى الولادة والأطفال</option>
    <option value="مستشفى أجا للرعاية المديدة">مستشفى أجا للرعاية المديدة</option>
    <option value="مجمع إرادة والصحة النفسية">مجمع إرادة والصحة النفسية</option>
    <option value="مستشفى شراف">مستشفى شراف</option>
    <option value="مستشفى الغزالة العام">مستشفى الغزالة العام</option>
    <option value="مستشفى الشنان العام">مستشفى الشنان العام</option>
    <option value="مستشفى سميراء العام">مستشفى سميراء العام</option>
    <option value="مستشفى السليمي العام">مستشفى السليمي العام</option>
    <option value="مستشفى موقق العام">مستشفى موقق العام</option>
    <option value="مستشفى الحائط العام">مستشفى الحائط العام</option>
    <option value="مستشفى الشملي العام">مستشفى الشملي العام</option>
    <option value="مستشفى بقعاء العام">مستشفى بقعاء العام</option>
  </select>
</div>
<!-- جهة البلاغ -->
<div class="box">
  <label>جهة البلاغ</label>
  <select id="reporter">
    <option value="" disabled selected>اختر جهة البلاغ</option>
    <option value="مدير المستشفى">مدير المستشفى</option>
    <option value="مدير مناوب">مدير مناوب</option>
  </select>
</div>

<!-- السبب -->
<div class="box">
  <label>السبب</label>
  <select id="reason">
    <option value="" disabled selected>اختر السبب</option>
    <option value="ازدحام قسم الطوارئ">ازدحام قسم الطوارئ</option>
    <option value="عدم توفر أسرة">عدم توفر أسرة</option>
  </select>
</div>

<!-- توجيه جميع الحالات إلى (Checkboxes) -->
<div class="box">
  <label>وذلك بتوجيه جميع الحالات إلى:</label>
  <div class="check-list">
    <div><label><input type="checkbox" class="destAll" value="مستشفى الملك سلمان التخصصي"> مستشفى الملك سلمان التخصصي</label></div>
    <div><label><input type="checkbox" class="destAll" value="مستشفى الملك خالد"> مستشفى الملك خالد</label></div>
    <div><label><input type="checkbox" class="destAll" value="مستشفى حائل العام"> مستشفى حائل العام</label></div>
    <div><label><input type="checkbox" class="destAll" value="مستشفى الولادة والأطفال"> مستشفى الولادة والأطفال</label></div>
    <div><label><input type="checkbox" class="destAll" value="مستشفى أجا للرعاية المديدة"> مستشفى أجا للرعاية المديدة</label></div>
    <div><label><input type="checkbox" class="destAll" value="مجمع إرادة والصحة النفسية"> مجمع إرادة والصحة النفسية</label></div>
    <div><label><input type="checkbox" class="destAll" value="مستشفى شراف"> مستشفى شراف</label></div>
    <div><label><input type="checkbox" class="destAll" value="مستشفى الغزالة العام"> مستشفى الغزالة العام</label></div>
    <div><label><input type="checkbox" class="destAll" value="مستشفى الشنان العام"> مستشفى الشنان العام</label></div>
    <div><label><input type="checkbox" class="destAll" value="مستشفى سميراء العام"> مستشفى سميراء العام</label></div>
    <div><label><input type="checkbox" class="destAll" value="مستشفى السليمي العام"> مستشفى السليمي العام</label></div>
    <div><label><input type="checkbox" class="destAll" value="مستشفى موقق العام"> مستشفى موقق العام</label></div>
    <div><label><input type="checkbox" class="destAll" value="مستشفى الحائط العام"> مستشفى الحائط العام</label></div>
    <div><label><input type="checkbox" class="destAll" value="مستشفى الشملي العام"> مستشفى الشملي العام</label></div>
    <div><label><input type="checkbox" class="destAll" value="مستشفى بقعاء العام"> مستشفى بقعاء العام</label></div>
  </div>
</div>
<!-- حالات الحوادث والإصابات (Checkboxes) -->
<div class="box">
  <label>حالات الحوادث والإصابات إلى:</label>
  <div class="check-list">
    <div><label><input type="checkbox" class="destInj" value="مستشفى الملك سلمان التخصصي"> مستشفى الملك سلمان التخصصي</label></div>
    <div><label><input type="checkbox" class="destInj" value="مستشفى الملك خالد"> مستشفى الملك خالد</label></div>
    <div><label><input type="checkbox" class="destInj" value="مستشفى حائل العام"> مستشفى حائل العام</label></div>
    <div><label><input type="checkbox" class="destInj" value="مستشفى الولادة والأطفال"> مستشفى الولادة والأطفال</label></div>
    <div><label><input type="checkbox" class="destInj" value="مستشفى أجا للرعاية المديدة"> مستشفى أجا للرعاية المديدة</label></div>
    <div><label><input type="checkbox" class="destInj" value="مجمع إرادة والصحة النفسية"> مجمع إرادة والصحة النفسية</label></div>
    <div><label><input type="checkbox" class="destInj" value="مستشفى شراف"> مستشفى شراف</label></div>
    <div><label><input type="checkbox" class="destInj" value="مستشفى الغزالة العام"> مستشفى الغزالة العام</label></div>
    <div><label><input type="checkbox" class="destInj" value="مستشفى الشنان العام"> مستشفى الشنان العام</label></div>
    <div><label><input type="checkbox" class="destInj" value="مستشفى سميراء العام"> مستشفى سميراء العام</label></div>
    <div><label><input type="checkbox" class="destInj" value="مستشفى السليمي العام"> مستشفى السليمي العام</label></div>
    <div><label><input type="checkbox" class="destInj" value="مستشفى موقق العام"> مستشفى موقق العام</label></div>
    <div><label><input type="checkbox" class="destInj" value="مستشفى الحائط العام"> مستشفى الحائط العام</label></div>
    <div><label><input type="checkbox" class="destInj" value="مستشفى الشملي العام"> مستشفى الشملي العام</label></div>
    <div><label><input type="checkbox" class="destInj" value="مستشفى بقعاء العام"> مستشفى بقعاء العام</label></div>
  </div>
</div>

<!-- المدة -->
<div class="box">
  <label>المدة (بالساعات)</label>
  <select id="duration">
    <option value="" disabled selected>اختر المدة</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
    <option value="13">13</option>
    <option value="14">14</option>
    <option value="15">15</option>
    <option value="16">16</option>
    <option value="17">17</option>
    <option value="18">18</option>
    <option value="19">19</option>
    <option value="20">20</option>
    <option value="21">21</option>
    <option value="22">22</option>
    <option value="23">23</option>
    <option value="24">24</option>
  </select>
</div>

<button onclick="generate()">إنشاء الرسالة</button>

<h3>الرسالة الجاهزة:</h3>
<div class="result" id="output"></div>

<button onclick="copyText()">نسخ الرسالة</button>

<script>
function getCheckedValues(className) {
  return Array.from(document.querySelectorAll("input." + className + ":checked"))
              .map(cb => cb.value);
}

function formatNumberedList(items) {
  let txt = "";
  items.forEach((item, index) => {
    txt += (index + 1) + "- " + item + "\n";
  });
  return txt.trim();
}

function generate() {
  const reporter = document.getElementById("reporter").value;
  const reason   = document.getElementById("reason").value;
  const duration = document.getElementById("duration").value;

  const destAllSelected = getCheckedValues("destAll");
  const destInjSelected = getCheckedValues("destInj");

  if (!reporter||!reason||!duration ||
      destAllSelected.length === 0 ||
      destInjSelected.length === 0) {
    alert("يرجى تعبئة جميع الحقول واختيار مستشفى واحد على الأقل في كل قائمة.");
    return;
  }

  const destAllList = formatNumberedList(destAllSelected);
  const destInjList = formatNumberedList(destInjSelected);
const template = `
⚠️ <strong>(تنبيه)</strong>

<strong>إيقاف استقبال الإحالات بقسم الطوارئ</strong>

<strong>جهة البلاغ:</strong>
${reporter}

<strong>السبب:</strong>
${reason}

<strong>سوف يتم التنسيق مع كلاً من:</strong>
1- عمليات النقل الطبي.
2- عمليات الهلال الأحمر.
3- عمليات صحة 8.
4- المستشفيات المستقبلة.

<strong>وذلك بتوجيه جميع الحالات إلى:</strong>
${destAllList.replace(/\n/g, "<br>")}

<strong>حالات الحوادث والإصابات إلى:</strong>
${destInjList.replace(/\n/g, "<br>")}

<strong>المدة:</strong>
${duration} ساعات

`;

  // show bold on the website
  document.getElementById("output").innerHTML = template;
}

function copyText() {
  // plain text (no HTML tags)
  let text = document.getElementById("output").innerText;

  // labels to be bold in WhatsApp
  const boldLabels = [
    "(تنبيه)",
    "إيقاف استقبال الإحالات بقسم الطوارئ",
    "جهة البلاغ:",
    "السبب:",
    "سوف يتم التنسيق مع كلاً من:",
    "وذلك بتوجيه جميع الحالات إلى:",
    "حالات الحوادث والإصابات إلى:",
    "المدة:",

  ];

  boldLabels.forEach(label => {
    text = text.replace(label, `*${label}*`);
  });

  navigator.clipboard.writeText(text);
  alert("تم النسخ!");
}
</script>

</body>

</html>


